!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.cp=e()}}(function(){var e;return function n(e,t,r){function i(o,u){if(!t[o]){if(!e[o]){var c="function"==typeof require&&require;if(!u&&c)return c(o,!0);if(a)return a(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(n){var t=e[o][1][n];return i(t?t:n)},l,l.exports,n,e,t,r)}return t[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,n,t){},{}],2:[function(e,n,t){n.exports={hcluster:e("./hcluster"),Kmeans:e("./kmeans"),kmeans:e("./kmeans").kmeans}},{"./hcluster":4,"./kmeans":5}],3:[function(e,n,t){n.exports={euclidean:function(e,n){for(var t=0,r=0;r<e.length;r++)t+=Math.pow(n[r]-e[r],2);return Math.sqrt(t)},manhattan:function(e,n){for(var t=0,r=0;r<e.length;r++)t+=Math.abs(n[r]-e[r]);return t},max:function(e,n){for(var t=0,r=0;r<e.length;r++)t=Math.max(t,Math.abs(n[r]-e[r]));return t}}},{}],4:[function(e,n,t){var r=e("./distance"),i=function(e,n,t){this.distance=e,this.linkage=n,this.threshold=void 0==t?1/0:t};i.prototype={cluster:function(e,n,t){this.clusters=[],this.dists=[],this.mins=[],this.index=[];for(var r=0;r<e.length;r++){var i={value:e[r],key:r,index:r,size:1};this.clusters[r]=i,this.index[r]=i,this.dists[r]=[],this.mins[r]=0}for(var r=0;r<this.clusters.length;r++)for(var a=0;r>=a;a++){var o=r==a?1/0:this.distance(this.clusters[r].value,this.clusters[a].value);this.dists[r][a]=o,this.dists[a][r]=o,o<this.dists[r][this.mins[r]]&&(this.mins[r]=a)}for(var u=this.mergeClosest(),r=0;u;)t&&r++%n==0&&t(this.clusters),u=this.mergeClosest();return this.clusters.forEach(function(e){delete e.key,delete e.index}),this.clusters},mergeClosest:function(){for(var e=0,n=1/0,t=0;t<this.clusters.length;t++){var r=this.clusters[t].key,i=this.dists[r][this.mins[r]];n>i&&(e=r,n=i)}if(n>=this.threshold)return!1;var a=this.index[e],o=this.index[this.mins[e]],u={left:a,right:o,key:a.key,size:a.size+o.size};this.clusters[a.index]=u,this.clusters.splice(o.index,1),this.index[a.key]=u;for(var t=0;t<this.clusters.length;t++){var i,c=this.clusters[t];a.key==c.key?i=1/0:"single"==this.linkage?(i=this.dists[a.key][c.key],this.dists[a.key][c.key]>this.dists[o.key][c.key]&&(i=this.dists[o.key][c.key])):"complete"==this.linkage?(i=this.dists[a.key][c.key],this.dists[a.key][c.key]<this.dists[o.key][c.key]&&(i=this.dists[o.key][c.key])):i="average"==this.linkage?(this.dists[a.key][c.key]*a.size+this.dists[o.key][c.key]*o.size)/(a.size+o.size):this.distance(c.value,a.value),this.dists[a.key][c.key]=this.dists[c.key][a.key]=i}for(var t=0;t<this.clusters.length;t++){var s=this.clusters[t].key;if(this.mins[s]==a.key||this.mins[s]==o.key){for(var n=s,l=0;l<this.clusters.length;l++){var f=this.clusters[l].key;this.dists[s][f]<this.dists[s][n]&&(n=f)}this.mins[s]=n}this.clusters[t].index=t}return delete a.key,delete o.key,delete a.index,delete o.index,!0}};var a=function(e,n,t,a,o,u){n=n||"euclidean",t=t||"average","string"==typeof n&&(n=r[n]);var c=new i(n,t,a).cluster(e,o,u);return void 0===a?c[0]:c};n.exports=a},{"./distance":3}],5:[function(e,n,t){function r(e){this.centroids=e||[]}var i=e("./distance");r.prototype.randomCentroids=function(e,n){var t=e.slice(0);return t.sort(function(){return Math.round(Math.random())-.5}),t.slice(0,n)},r.prototype.classify=function(e,n){var t=1/0,r=0;n=n||"euclidean","string"==typeof n&&(n=i[n]);for(var a=0;a<this.centroids.length;a++){var o=n(e,this.centroids[a]);t>o&&(t=o,r=a)}return r},r.prototype.cluster=function(e,n,t,r,a){n=n||Math.max(2,Math.ceil(Math.sqrt(e.length/2))),t=t||"euclidean","string"==typeof t&&(t=i[t]),this.centroids=this.randomCentroids(e,n);for(var o=new Array(e.length),u=new Array(n),c=0,s=!0;s;){for(var l=0;l<e.length;l++)o[l]=this.classify(e[l],t);s=!1;for(var f=0;n>f;f++){for(var d=[],l=0;l<o.length;l++)o[l]==f&&d.push(e[l]);if(d.length){for(var g=this.centroids[f],h=new Array(g.length),p=0;p<g.length;p++){for(var T=0,l=0;l<d.length;l++)T+=d[l][p];h[p]=T/d.length,h[p]!=g[p]&&(s=!0)}this.centroids[f]=h,u[f]=d}}a&&c++%r==0&&a(u)}return u},r.prototype.toJSON=function(){return JSON.stringify(this.centroids)},r.prototype.fromJSON=function(e){return this.centroids=JSON.parse(e),this},n.exports=r,n.exports.kmeans=function(e,n){return(new r).cluster(e,n)}},{"./distance":3}],6:[function(e,n,t){"use strict";function r(e,n){var r=t.distance.table(e),c=a.hcluster(e,function(e,n){var t=i.shorten(e),a=i.shorten(n);return r[t][a]},"average",o.CLUSTER_THRESHOLD),s=c.map(function(e){return u.traverse(e,[])}).map(function(e){return e.sort(function(e,n){return n._info.score-e._info.score})}).filter(function(e){return e.length>0}).sort(function(e,n){return n[0]._info.score-e[0]._info.score});return s.dist=r,s}var i=e("vega-lite/src/shorthand"),a=e("clusterfck"),o=e("./clusterconsts"),u=e("../util"),c=e("./distance");t.distance=c,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},{"../util":19,"./clusterconsts":7,"./distance":8,clusterfck:2,"vega-lite/src/shorthand":38}],7:[function(e,n,t){"use strict";function r(e,n){var t=n[0],r=n[1],i=n[2];return e[t]=e[t]||{},e[r]=e[r]||{},e[t][r]=e[r][t]=i,e}t.SWAPPABLE=.05,t.DIST_MISSING=1,t.CLUSTER_THRESHOLD=1,t.DIST_BY_CHANNEL=[["x","y",t.SWAPPABLE],["row","column",t.SWAPPABLE],["color","shape",t.SWAPPABLE],["color","detail",t.SWAPPABLE],["detail","shape",t.SWAPPABLE],["size","color",t.SWAPPABLE]].reduce(r,{})},{}],8:[function(e,n,t){"use strict";function r(e){var n,t,r=e.length,o=e.map(function(e){return a(e)}),c=e.map(u.shorten),s={};for(n=0;r>n;n++)s[c[n]]={};for(n=0;r>n;n++)for(t=n+1;r>t;t++){var l=c[t],f=c[n];s[l][f]=s[f][l]=i(o[n],o[t])}return s}function i(e,n){var t=s.union(s.keys(e.channelByField),s.keys(n.channelByField)),r=0;t.forEach(function(t){var i=e.channelByField[t],a=n.channelByField[t];i&&a?i.channel!==a.channel&&(r+=(c.DIST_BY_CHANNEL[i.channel]||{})[a.channel]||1):r+=c.DIST_MISSING});var i=o.isStacked(e),a=o.isStacked(n);return(i||a)&&(i&&a?(e.encoding.color&&n.encoding.color&&e.encoding.color.field!==n.encoding.color.field||e.encoding.detail&&n.encoding.detail&&e.encoding.detail.field!==n.encoding.detail.field)&&(r+=1):r+=1),r}function a(e){var n={},t=e.encoding;return s.keys(t).forEach(function(e){var r=s.duplicate(t[e]);r.channel=e,n[r.field||""]=r,delete r.field}),{mark:e.mark,channelByField:n,encoding:e.encoding}}var o=e("vega-lite/src/spec"),u=e("vega-lite/src/shorthand"),c=e("./clusterconsts"),s=e("../util");t.table=r,t.get=i,t.extendSpecWithChannelByColumnName=a},{"../util":19,"./clusterconsts":7,"vega-lite/src/shorthand":38,"vega-lite/src/spec":39}],9:[function(e,n,t){"use strict";var r=e("vega-lite/src/channel"),i=e("vega-lite/src/mark");t.DEFAULT_PROJECTION_OPT={omitDotPlot:!1,maxCardinalityForAutoAddOrdinal:50,alwaysAddHistogram:!0,maxAdditionalVariables:1},function(e){e[e.BOTH="both"]="BOTH",e[e.AGGREGATED="aggregated"]="AGGREGATED",e[e.DISAGGREGATED="disaggregated"]="DISAGGREGATED"}(t.TableType||(t.TableType={}));var a=t.TableType;!function(e){e[e.AUTO="auto"]="AUTO",e[e.BIN="bin"]="BIN",e[e.CAST="cast"]="CAST",e[e.NONE="none"]="NONE"}(t.QuantitativeDimensionType||(t.QuantitativeDimensionType={}));var o=t.QuantitativeDimensionType;t.DEFAULT_AGGREGATION_OPTIONS={tableTypes:a.BOTH,genDimQ:o.AUTO,minCardinalityForBin:20,omitDotPlot:!1,omitMeasureOnly:!1,omitDimensionOnly:!0,addCountForDimensionOnly:!0,aggrList:[void 0,"mean"],timeUnitList:["year"],consistentAutoQ:!0},t.DEFAULT_SCALE_OPTION={rescaleQuantitative:[void 0]},t.DEFAULT_SPEC_OPTION={markList:[i.Mark.POINT,i.Mark.BAR,i.Mark.LINE,i.Mark.AREA,i.Mark.TEXT,i.Mark.TICK],channelList:[r.X,r.Y,r.ROW,r.COLUMN,r.SIZE,r.COLOR,r.TEXT,r.DETAIL],alwaysGenerateTableAsHeatmap:!0,maxGoodCardinalityForFacets:5,maxCardinalityForFacets:20,maxGoodCardinalityForColor:7,maxCardinalityForColor:20,maxCardinalityForShape:6,omitDotPlot:!1,omitDotPlotWithExtraEncoding:!0,omitDotPlotWithFacet:!0,omitDotPlotWithOnlyCount:!1,omitMultipleNonPositionalChannels:!0,omitNonTextAggrWithAllDimsOnFacets:!0,omitRawWithXYBothDimension:!0,omitShapeWithBin:!0,omitShapeWithTimeDimension:!0,omitSizeOnBar:!0,omitLengthForLogScale:!0,omitStackedAverage:!0,omitTranspose:!0}},{"vega-lite/src/channel":31,"vega-lite/src/mark":36}],10:[function(e,n,t){"use strict";var r=e("./consts"),i=e("./cluster/cluster"),a=e("./gen/gen"),o=e("./rank/rank"),u=e("./util");t.consts=r,t.cluster=i["default"],t.gen=a,t.rank=o,t.util=u,t.auto="-, sum",t.version="0.7.1"},{"./cluster/cluster":6,"./consts":9,"./gen/gen":13,"./rank/rank":17,"./util":19}],11:[function(e,n,t){"use strict";function r(e,n,t,r){function f(n){n=c.duplicate(n),n.key=n.map(function(e){return a.shortenFieldDef(e)}).join(a.DELIM),e.push(n)}function d(){if(r.omitMeasureOnly||r.omitDimensionOnly){var e=!1,n=!1,t=!1;if(A.forEach(function(r){i.isDimension(r)?n=!0:(e=!0,r.aggregate||(t=!0))}),!n&&!t&&r.omitMeasureOnly)return;if(!e&&(r.addCountForDimensionOnly&&(A.push(i.count()),f(A),A.pop()),r.omitDimensionOnly))return}r.omitDotPlot&&1===A.length||f(A)}function g(e,n,t,r){var i=n===!0||null===n,a=n===!1||null===n;r?i&&(A[e].aggregate=r,y(e+1,!0,t),delete A[e].aggregate):a&&y(e+1,!1,t)}function h(e,n,t){A[e].bin=!0,y(e+1,n,t),delete A[e].bin}function p(e,a,f){var d=n[e],p=a===!0||null===a;if(A[e]={field:d.field,type:d.type},d.aggregate===u.AggregateOp.COUNT)p&&(A[e].aggregate=d.aggregate,y(e+1,!0,f));else if(d._aggregate)g(e,a,f,d._aggregate);else if(d._raw)g(e,a,f,void 0);else if(d._bin)h(e,a,f);else if(r.aggrList.forEach(function(n){r.consistentAutoQ&&f!==l&&f!==n||g(e,a,n,n)}),(!r.consistentAutoQ||c.isin(f,[l,"bin","cast","autocast"]))&&!m){var T=i.cardinality(d,t)>r.minCardinalityForBin,E=r.genDimQ===s.QuantitativeDimensionType.AUTO,O=r.genDimQ===s.QuantitativeDimensionType.BIN||E&&T,v=r.genDimQ===s.QuantitativeDimensionType.CAST||E&&!T;O&&c.isin(f,[l,"bin","autocast"])&&h(e,a,E?"autocast":"bin"),v&&c.isin(f,[l,"cast","autocast"])&&(A[e].type=o.Type.ORDINAL,y(e+1,a,E?"autocast":"cast"),A[e].type=o.Type.QUANTITATIVE)}}function T(e,n,t,r){A[e].timeUnit=r,y(e+1,n,t),delete A[e].timeUnit}function E(e,t,i){var a=n[e];A[e]={field:a.field,type:a.type},a._timeUnit?T(e,t,i,a._timeUnit):r.timeUnitList.forEach(function(n){void 0===n?t||y(e+1,!1,i):T(e,t,i,n)})}function y(e,t,r){if(e===n.length)return void d();var i=n[e];switch(i.type){case o.Type.QUANTITATIVE:p(e,t,r);break;case o.Type.TEMPORAL:E(e,t,r);break;case o.Type.ORDINAL:case o.Type.NOMINAL:default:A[e]=i,y(e+1,t,r)}}void 0===r&&(r={}),r=c.extend({},s.DEFAULT_AGGREGATION_OPTIONS,r);var A=new Array(n.length),m=c.any(n,function(e){return e.type===o.Type.NOMINAL||e.type===o.Type.ORDINAL}),O=r.tableTypes===s.TableType.AGGREGATED?!0:r.tableTypes===s.TableType.DISAGGREGATED?!1:null;return y(0,O,l),e}var i=e("vega-lite/src/fielddef"),a=e("vega-lite/src/shorthand"),o=e("vega-lite/src/type"),u=e("vega-lite/src/aggregate"),c=e("../util"),s=e("../consts"),l="*";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},{"../consts":9,"../util":19,"vega-lite/src/aggregate":29,"vega-lite/src/fielddef":34,"vega-lite/src/shorthand":38,"vega-lite/src/type":42}],12:[function(e,n,t){"use strict";function r(e,n,t,r){function a(c){if(c===n.length)return void(d.encoding(u,t,r)&&e.push(o.duplicate(u)));var s=n[c];for(var f in r.channelList){var g=r.channelList[f],h=i.isDimension(s),p=l.getSupportedRole(g);g in u||!(h&&p.dimension||!h&&p.measure)||!d.channel[g](u,s,t,r)||(u[g]=s,a(c+1),delete u[g])}}void 0===r&&(r=c.DEFAULT_SPEC_OPTION);var u={};return a(0),e}var i=e("vega-lite/src/fielddef"),a=e("vega-lite/src/encoding"),o=e("../util"),u=e("./marks"),c=e("../consts"),s=e("vega-lite/src/aggregate"),l=e("vega-lite/src/channel"),f=e("vega-lite/src/type");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var d;!function(e){function n(e,n,t){if(t.omitDotPlot)return!1;if(t.omitTranspose&&e.y)return!1;if(t.omitDotPlotWithFacet&&(e.row||e.column))return!1;if(t.omitDotPlotWithExtraEncoding&&o.keys(e).length>1)return!1;if(t.omitDotPlotWithOnlyCount){if(e.x&&e.x.aggregate===s.AggregateOp.COUNT&&!e.y)return!1;if(e.y&&e.y.aggregate===s.AggregateOp.COUNT&&!e.x)return!1}return!0}function t(e){var n=!1,t=!1;for(var r in e){var a=r,o=e[a];if(o.aggregate&&(n=!0),i.isDimension(o)&&a!==l.ROW&&a!==l.COLUMN&&(t=!0),n&&t)break}return n&&!t}function r(e,n,r){if((e.row||e.column)&&r.omitNonTextAggrWithAllDimsOnFacets&&t(e))return!1;var o=i.isDimension(e.x),u=i.isDimension(e.y);if(r.omitRawWithXYBothDimension&&o&&u&&!a.isAggregate(e))return!1;if(r.omitTranspose){if(o!==u)return e.y.type!==f.Type.NOMINAL&&e.y.type!==f.Type.ORDINAL||!i.isMeasure(e.x)?!u&&o&&e.x.type!==f.Type.NOMINAL&&e.x.type!==f.Type.ORDINAL?!0:!1:!0;if(e.y.type===f.Type.TEMPORAL||e.x.type===f.Type.TEMPORAL){if(e.y.type===f.Type.TEMPORAL&&e.x.type!==f.Type.TEMPORAL)return!1}else if(e.x.field>e.y.field)return!1}return!0}function c(e,t,i){if(e.text)return u.rule.text(e,t,i);var a=!!e.x,o=!!e.y;return a!==o?n(e,t,i):a&&o?r(e,t,i):!1}var d;!function(e){function n(e,n,t,r){return a(e,n,t,r)?i.isMeasure(n)||i.cardinality(n,t)<=r.maxCardinalityForColor:!1}function t(e,n,t,r){return a(e,n,t,r)?r.omitShapeWithBin&&n.bin&&n.type===f.Type.QUANTITATIVE?!1:r.omitShapeWithTimeDimension&&n.timeUnit&&n.type===f.Type.TEMPORAL?!1:i.cardinality(n,t)<=r.maxCardinalityForShape:!1}function r(){return!0}function a(e,n,t,r){return r.omitMultipleNonPositionalChannels&&(e.color||e.size||e.shape)?!1:!0}e.x=r,e.y=r,e.text=r,e.detail=r,e.size=a,e.row=r,e.column=r,e.color=n,e.shape=t}(d=e.channel||(e.channel={})),e.encoding=c}(d||(d={}))},{"../consts":9,"../util":19,"./marks":14,"vega-lite/src/aggregate":29,"vega-lite/src/channel":31,"vega-lite/src/encoding":33,"vega-lite/src/fielddef":34,"vega-lite/src/type":42}],13:[function(e,n,t){"use strict";var r=e("./aggregates"),i=e("./projections"),a=e("./projections"),o=e("./specs"),u=e("./encodings"),c=e("./marks");t.aggregates=r["default"],t.projections=i["default"],t.projections.key=a.key,t.specs=o["default"],t.encodings=u["default"],t.marks=c["default"]},{"./aggregates":11,"./encodings":12,"./marks":14,"./projections":15,"./specs":16}],14:[function(e,n,t){"use strict";function r(e,n,t){return t.markList.filter(function(r){var i=null===o.getEncodingMappingError({mark:r,encoding:e});return i&&f[r](e,n,t)})}var i=e("vega-lite/src/encoding"),a=e("vega-lite/src/fielddef"),o=e("vega-lite/src/validate"),u=e("vega-lite/src/type"),c=e("vega-lite/src/scale"),s=e("vega-lite/src/aggregate"),l=e("../util");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var f;!function(e){function n(e,n,t){return a.cardinality(e,n)<=t.maxCardinalityForFacets}function t(e,t,r){return e.row&&!n(e.row,t,r)?!1:e.column&&!n(e.column,t,r)?!1:!0}function r(e,n,r){if(!t(e,n,r))return!1;if(e.x&&e.y){var i=a.isDimension(e.x),o=a.isDimension(e.y);if(i&&o){if(e.shape)return!1;if(e.color&&a.isDimension(e.color))return!1}}else{if(r.omitDotPlot)return!1;if(r.omitTranspose&&e.y)return!1;if(r.omitDotPlotWithExtraEncoding&&l.keys(e).length>1)return!1}return!0}function o(e,n,t){if(e.x||e.y){if(i.isAggregate(e))return!1;var r=a.isDimension(e.x),o=a.isDimension(e.y);return!r&&(!e.y||o)||!o&&(!e.x||r)}return!1}function f(e,n,r){if(!t(e,n,r))return!1;if(!e.x&&!e.y)return!1;if(r.omitSizeOnBar&&void 0!==e.size)return!1;if(r.omitLengthForLogScale){if(e.x&&e.x.scale&&e.x.scale.type===c.ScaleType.LOG)return!1;if(e.y&&e.y.scale&&e.y.scale.type===c.ScaleType.LOG)return!1}var i=(!e.x||void 0===e.x.aggregate)!=(!e.y||void 0===e.y.aggregate);if(i){var o=(!e.x||a.isDimension(e.x))!==(!e.y||a.isDimension(e.y));if(o){var u=e.x.aggregate||e.y.aggregate;return!(r.omitStackedAverage&&u===s.AggregateOp.MEAN&&e.color)}}return!1}function d(e,n,r){return t(e,n,r)?e.x.type===u.Type.TEMPORAL&&!!e.x.timeUnit&&e.y.type===u.Type.QUANTITATIVE&&!!e.y.aggregate:!1}function g(e,n,r){if(!t(e,n,r))return!1;if(!d(e,n,r))return!1;if(r.omitLengthForLogScale){if(e.x&&e.x.scale&&e.x.scale.type===c.ScaleType.LOG)return!1;if(e.y&&e.y.scale&&e.y.scale.type===c.ScaleType.LOG)return!1}return!(r.omitStackedAverage&&e.y.aggregate===s.AggregateOp.MEAN&&e.color)}function h(e,n,t){return(e.row||e.column)&&e.text&&e.text.aggregate&&!e.x&&!e.y&&!e.size&&(!t.alwaysGenerateTableAsHeatmap||!e.color)}e.point=r,e.tick=o,e.bar=f,e.line=d,e.area=g,e.text=h}(f=t.rule||(t.rule={}))},{"../util":19,"vega-lite/src/aggregate":29,"vega-lite/src/encoding":33,"vega-lite/src/fielddef":34,"vega-lite/src/scale":37,"vega-lite/src/type":42,"vega-lite/src/validate":44}],15:[function(e,n,t){"use strict";function r(e,n,t){void 0===t&&(t={}),t=u.extend({},c.DEFAULT_PROJECTION_OPT,t);var r=[],f=[],d=[],g=!1,h=!1,p={};e.forEach(function(e,i){if(p[e.field]=i,e.selected)r.push(e),l(e)||e.type===s.TEMPORAL?g=!0:h=!0;else if(e.selected!==!1&&!o.isCount(e)){if(o.isDimension(e)&&!t.maxCardinalityForAutoAddOrdinal&&o.cardinality(e,n,15)>t.maxCardinalityForAutoAddOrdinal)return;f.push(e)}}),f.sort(i(g,h,p));var T=u.chooseKorLess(f,t.maxAdditionalVariables);return T.forEach(function(e){var n=r.concat(e);if(n.length>0){if(t.omitDotPlot&&1===n.length)return;d.push(n)}}),d.forEach(function(e){e.key=a(e)}),d}function i(e,n,t){return function(n,r){return n.type!==r.type?e?f[r.type]-f[n.type]:f[n.type]-f[r.type]:t[n.field]-t[r.field]}}function a(e){return e.map(function(e){return o.isCount(e)?"count":e.field}).join(",")}var o=e("vega-lite/src/fielddef"),u=e("../util"),c=e("../consts"),s=e("vega-lite/src/type"),l=o.isDimension;Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var f={nominal:0,ordinal:0,temporal:2,quantitative:3};t.key=a},{"../consts":9,"../util":19,"vega-lite/src/fielddef":34,"vega-lite/src/type":42}],16:[function(e,n,t){"use strict";function r(e,n,t,r,a){void 0===r&&(r={}),r=u.extend({},c.DEFAULT_SPEC_OPTION,r);var o=s["default"]([],n,t,r);return a?o.reduce(function(e,n){var a=d.shortenEncoding(n);return e[a]=i([],n,t,r),e},{}):o.reduce(function(e,n){return i(e,n,t,r)},e)}function i(e,n,t,r){return l["default"](n,t,r).forEach(function(i){var o=u.duplicate({encoding:n,config:r.config});o.mark=i,o.data=r.data,o=a(o,t,r);var c=f.encoding(o,t,r);o._info=c,e.push(o)}),e}function a(e,n,t){"text"===e.mark&&t.alwaysGenerateTableAsHeatmap&&(e.encoding.color=e.encoding.text);var r=e.encoding;return["x","y"].forEach(function(e){var t=r[e];if(t&&o.isMeasure(t)&&!o.isCount(t)){var i=n[t.field];i&&i.stdev/i.mean<.01&&(t.scale={zero:!1})}}),e}var o=e("vega-lite/src/fielddef"),u=e("../util"),c=e("../consts"),s=e("./encodings"),l=e("./marks"),f=e("../rank/rank"),d=e("vega-lite/src/shorthand");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},{"../consts":9,"../rank/rank":17,"../util":19,"./encodings":12,"./marks":14,"vega-lite/src/fielddef":34,"vega-lite/src/shorthand":38}],17:[function(e,n,t){"use strict";var r=e("./rankEncodings");t.encoding=r["default"]},{"./rankEncodings":18}],18:[function(e,n,t){"use strict";function r(e,n,r,o){var l=[],h=c.keys(e.encoding),p=e.mark,T=e.encoding,E=i.reduce(e.encoding,function(e,n,t){var r=s.shortenFieldDef(n),i=e[r]=e[r]||[];return i.push({channel:t,fieldDef:n}),e},{});return c.forEach(E,function(i){var u=i.map(function(e){return e.channel+s.ASSIGN+s.shortenFieldDef(e.fieldDef)+" "+(o&&o[e.fieldDef.field]?"[x]":"[ ]")}),c=i.map(function(i){var u=a.isDimension(i.fieldDef)?t.dimensionScore:t.measureScore,c=u(i.fieldDef,i.channel,e.mark,n,r);return!o||o[i.fieldDef.field]?c:Math.pow(c,.125)});l.push({reason:u.join(" | "),score:Math.max.apply(null,c)})}),"text"===p||T.x&&T.y&&u(T.x)!==u(T.y)&&l.push({reason:"OxQ plot",score:.8}),h.length>1&&p!==f.Mark.TEXT&&(T.x&&T.y||T.geo||T.text||l.push({reason:"unused position",score:d})),l.push({reason:"mark="+p,score:g[p]}),{score:l.reduce(function(e,n){return e*n.score},1),features:l}}var i=e("vega-lite/src/encoding"),a=e("vega-lite/src/fielddef"),o=e("vega-lite/src/channel"),u=a.isDimension,c=e("../util"),s=e("vega-lite/src/shorthand"),l=e("vega-lite/src/type"),f=e("vega-lite/src/mark"),d=.5,g={line:.99,area:.98,bar:.97,tick:.96,point:.95,circle:.94,square:.94,text:.8},h={},p={},T=.1,E=.01;h.minor=.01,h.pos=1,h.Y_T=.8,h.facet_text=1,h.facet_good=.675,h.facet_ok=.55,h.facet_bad=.4,h.color_good=.7,h.color_ok=.65,h.color_bad=.3,h.color_stack=.6,h.shape=.6,h.detail=.5,h.bad=T,h.terrible=E,p.pos=1,p.size=.6,p.color=.5,p.text=.4,p.bad=T,p.terrible=E,t.dimensionScore=function(e,n,t,r,i){var u=a.cardinality(e,r);switch(n){case o.X:return e.type===l.Type.NOMINAL||e.type===l.Type.ORDINAL?h.pos-h.minor:h.pos;case o.Y:return e.type===l.Type.NOMINAL||e.type===l.Type.ORDINAL?h.pos-h.minor:e.type===l.Type.TEMPORAL?h.Y_T:h.pos-h.minor;case o.COLUMN:return"text"===t?h.facet_text:u<=i.maxGoodCardinalityForFacets?h.facet_good:u<=i.maxCardinalityForFacets?h.facet_ok:h.facet_bad;case o.ROW:return"text"===t?h.facet_text:(u<=i.maxGoodCardinalityForFacets?h.facet_good:u<=i.maxCardinalityForFacets?h.facet_ok:h.facet_bad)-h.minor;case o.COLOR:var c=e.bin&&e.type===l.Type.QUANTITATIVE||e.timeUnit&&e.type===l.Type.TEMPORAL,s=t===f.Mark.BAR||t===f.Mark.AREA;return c?h.color_bad:s?h.color_stack:u<=i.maxGoodCardinalityForColor?h.color_good:u<=i.maxCardinalityForColor?h.color_ok:h.color_bad;case o.SHAPE:return u<=i.maxCardinalityForShape?h.shape:E;case o.DETAIL:return h.detail}return E},t.dimensionScore.consts=h,t.measureScore=function(e,n,t,r,i){switch(n){case o.X:return p.pos;case o.Y:return p.pos;case o.SIZE:return t===f.Mark.BAR||t===f.Mark.TEXT||t===f.Mark.LINE?T:p.size;case o.COLOR:return p.color;case o.TEXT:return p.text}return T},t.measureScore.consts=p,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},{"../util":19,"vega-lite/src/channel":31,"vega-lite/src/encoding":33,"vega-lite/src/fielddef":34,"vega-lite/src/mark":36,"vega-lite/src/shorthand":38,"vega-lite/src/type":42}],19:[function(e,n,t){"use strict";function r(e,n){return-1!==n.indexOf(e)}function i(e,n){return JSON.stringify(e,null,n)}function a(e){var n,t=[];for(n in e)t.push(n);return t}function o(e){return JSON.parse(JSON.stringify(e))}function u(e,n,t){if(e.forEach)e.forEach.call(t,n);else for(var r in e)n.call(t,e[r],r,e)}function c(e,n){var t,r=0;for(t in e)if(n(e[t],t,r++))return!0;return!1}function s(e,n,t,r){return 0===t?e.map(n):e.map(function(e){var i=s(e,n,t-1);return r?i.filter(f):i})}function l(e,n,t,r){return 0===t?e.reduce(n,[]):e.map(function(e){var i=l(e,n,t-1);return r?i.filter(f):i})}function f(e){return!t.isArray(e)||e.length>0}function d(e,n){return void 0!==e.value?n.push(e.value):(e.left&&d(e.left,n),e.right&&d(e.right,n)),n}function g(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];for(var i,a,o=1,u=arguments.length;u>o;++o){i=arguments[o];for(a in i)e[a]=i[a]}return e}function h(e,n){var t={};return e.forEach(function(e){t[e]=!0}),n.forEach(function(e){t[e]=!0}),a(t)}function p(e){for(var n=[[]],t=0;t<e.length;t++)for(var r=0,i=n.length;i>r;r++)n.push(n[r].concat(e[t]));return n}function T(e,n){for(var t=[[]],r=0;r<e.length;r++)for(var i=0,a=t.length;a>i;i++){var o=t[i].concat(e[r]);o.length<=n&&t.push(o)}return t}function E(e,n){for(var t=[[]],r=[],i=0;i<e.length;i++)for(var a=0,o=t.length;o>a;a++){var u=t[a].concat(e[i]);u.length<n?t.push(u):u.length===n&&r.push(u)}return r}function y(e,n){for(var t=[],r=0;r<e.length;r++)for(var i=0;i<n.length;i++)t.push(e[r].concat(n[i]));return t}t.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},t.isin=r,t.json=i,t.keys=a,t.duplicate=o,t.forEach=u,t.any=c,t.nestedMap=s,t.nestedReduce=l,t.nonEmpty=f,t.traverse=d,t.extend=g,t.union=h;var A;!function(e){function n(e){return(e?a(e):[]).reduce(function(n,t){return n[t]=e[t],n},Object.create({}))}e.getOpt=n}(A=t.gen||(t.gen={})),t.powerset=p,t.chooseKorLess=T,t.chooseK=E,t.cross=y},{}],20:[function(n,t,r){!function(n,i){"object"==typeof r&&"undefined"!=typeof t?i(r):"function"==typeof e&&e.amd?e("d3-time",["exports"],i):i(n.d3_time={})}(this,function(e){"use strict";function n(e,t,r,o){function u(n){return e(n=new Date(+n)),n}return u.floor=u,u.round=function(n){var r=new Date(+n),i=new Date(n-1);return e(r),e(i),t(i,1),i-n>n-r?r:i},u.ceil=function(n){return e(n=new Date(n-1)),t(n,1),n},u.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},u.range=function(n,r,i){var a=[];if(n=new Date(n-1),r=new Date(+r),i=null==i?1:Math.floor(i),!(r>n&&i>0))return a;for(t(n,1),e(n),r>n&&a.push(new Date(+n));t(n,i),e(n),r>n;)a.push(new Date(+n));return a},u.filter=function(r){return n(function(n){for(;e(n),!r(n);)n.setTime(n-1)},function(e,n){for(;--n>=0;)for(;t(e,1),!r(e););})},r&&(u.count=function(n,t){return i.setTime(+n),a.setTime(+t),e(i),e(a),Math.floor(r(i,a))},u.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?u.filter(o?function(n){return o(n)%e===0}:function(n){return u.count(0,n)%e===0}):u:null}),u}function t(e){return n(function(n){n.setHours(0,0,0,0),n.setDate(n.getDate()-(n.getDay()+7-e)%7)},function(e,n){e.setDate(e.getDate()+7*n)},function(e,n){return(n-e-6e4*(n.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}function r(e){return n(function(n){n.setUTCHours(0,0,0,0),n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7)},function(e,n){e.setUTCDate(e.getUTCDate()+7*n)},function(e,n){return(n-e)/6048e5})}var i=new Date,a=new Date,o=n(function(){},function(e,n){e.setTime(+e+n)},function(e,n){return n-e});o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?n(function(n){n.setTime(Math.floor(n/e)*e)},function(n,t){n.setTime(+n+t*e)},function(n,t){return(t-n)/e}):o:null};var u=n(function(e){e.setMilliseconds(0)},function(e,n){e.setTime(+e+1e3*n)},function(e,n){return(n-e)/1e3},function(e){return e.getSeconds()}),c=n(function(e){e.setSeconds(0,0)},function(e,n){e.setTime(+e+6e4*n)},function(e,n){return(n-e)/6e4},function(e){return e.getMinutes()}),s=n(function(e){e.setMinutes(0,0,0)},function(e,n){e.setTime(+e+36e5*n)},function(e,n){return(n-e)/36e5},function(e){return e.getHours()}),l=n(function(e){e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n)},function(e,n){return(n-e-6e4*(n.getTimezoneOffset()-e.getTimezoneOffset()))/864e5},function(e){return e.getDate()-1}),f=t(0),d=t(1),g=t(2),h=t(3),p=t(4),T=t(5),E=t(6),y=n(function(e){e.setHours(0,0,0,0),e.setDate(1)},function(e,n){e.setMonth(e.getMonth()+n)},function(e,n){return n.getMonth()-e.getMonth()+12*(n.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),A=n(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,n){e.setFullYear(e.getFullYear()+n)},function(e,n){return n.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}),m=n(function(e){e.setUTCMilliseconds(0)},function(e,n){e.setTime(+e+1e3*n)},function(e,n){return(n-e)/1e3},function(e){return e.getUTCSeconds()}),O=n(function(e){e.setUTCSeconds(0,0)},function(e,n){e.setTime(+e+6e4*n)},function(e,n){return(n-e)/6e4},function(e){return e.getUTCMinutes()}),v=n(function(e){e.setUTCMinutes(0,0,0)},function(e,n){e.setTime(+e+36e5*n)},function(e,n){return(n-e)/36e5},function(e){return e.getUTCHours()}),N=n(function(e){e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n)},function(e,n){return(n-e)/864e5},function(e){return e.getUTCDate()-1}),S=r(0),R=r(1),M=r(2),D=r(3),I=r(4),C=r(5),L=r(6),U=n(function(e){e.setUTCHours(0,0,0,0),e.setUTCDate(1)},function(e,n){e.setUTCMonth(e.getUTCMonth()+n)},function(e,n){return n.getUTCMonth()-e.getUTCMonth()+12*(n.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),x=n(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n)},function(e,n){return n.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()}),k=o.range,b=u.range,P=c.range,_=s.range,H=l.range,Y=f.range,w=d.range,F=g.range,G=h.range,B=p.range,j=T.range,Q=E.range,z=f.range,W=y.range,X=A.range,V=o,q=k,J=m.range,K=O.range,Z=v.range,$=N.range,ee=S.range,ne=R.range,te=M.range,re=D.range,ie=I.range,ae=C.range,oe=L.range,ue=S.range,ce=U.range,se=x.range,le="0.1.1";e.version=le,e.milliseconds=k,e.seconds=b,e.minutes=P,e.hours=_,e.days=H,e.sundays=Y,e.mondays=w,e.tuesdays=F,e.wednesdays=G,e.thursdays=B,e.fridays=j,e.saturdays=Q,e.weeks=z,e.months=W,e.years=X,e.utcMillisecond=V,e.utcMilliseconds=q,e.utcSeconds=J,e.utcMinutes=K,e.utcHours=Z,e.utcDays=$,e.utcSundays=ee,e.utcMondays=ne,e.utcTuesdays=te,e.utcWednesdays=re,e.utcThursdays=ie,e.utcFridays=ae,e.utcSaturdays=oe,e.utcWeeks=ue,e.utcMonths=ce,e.utcYears=se,e.millisecond=o,e.second=u,e.minute=c,e.hour=s,e.day=l,e.sunday=f,e.monday=d,e.tuesday=g,e.wednesday=h,e.thursday=p,e.friday=T,e.saturday=E,e.week=f,e.month=y,e.year=A,e.utcSecond=m,e.utcMinute=O,e.utcHour=v,e.utcDay=N,e.utcSunday=S,e.utcMonday=R,e.utcTuesday=M,e.utcWednesday=D,e.utcThursday=I,e.utcFriday=C,e.utcSaturday=L,e.utcWeek=S,e.utcMonth=U,e.utcYear=x,e.interval=n})},{}],21:[function(e,n,t){function r(e){if(!e)throw Error("Missing binning options.");var n,t,r,u,c,s,l,f=e.maxbins||15,d=e.base||10,g=Math.log(d),h=e.div||[5,2],p=e.min,T=e.max,E=T-p;if(e.step)n=e.step;else if(e.steps)n=e.steps[Math.min(e.steps.length-1,i(e.steps,E/f,0,e.steps.length))];else{for(t=Math.ceil(Math.log(f)/g),r=e.minstep||0,n=Math.max(r,Math.pow(d,Math.round(Math.log(E)/g)-t));Math.ceil(E/n)>f;)n*=d;for(s=0;s<h.length;++s)c=n/h[s],c>=r&&f>=E/c&&(n=c)}return c=Math.log(n),u=c>=0?0:~~(-c/g)+1,l=Math.pow(d,-u-1),p=Math.min(p,Math.floor(p/n+l)*n),T=Math.ceil(T/n)*n,{start:p,stop:T,step:n,unit:{precision:u},value:a,index:o}}function i(e,n,t,r){for(;r>t;){var i=t+r>>>1;s.cmp(e[i],n)<0?t=i+1:r=i}return t}function a(e){return this.step*Math.floor(e/this.step+f)}function o(e){return Math.floor((e-this.start)/this.step+f)}function u(e){return this.unit.date(a.call(this,e))}function c(e){return o.call(this,this.unit.unit(e))}var s=e("../util"),l=e("../time"),f=1e-15;r.date=function(e){if(!e)throw Error("Missing date binning options.");var n=e.utc?l.utc:l,t=e.min,i=e.max,a=e.maxbins||20,o=e.minbins||4,s=+i-+t,f=e.unit?n[e.unit]:n.find(s,o,a),d=r({min:null!=f.min?f.min:f.unit(t),max:null!=f.max?f.max:f.unit(i),maxbins:a,minstep:f.minstep,steps:f.step});return d.unit=f,d.index=c,e.raw||(d.value=u),d},n.exports=r},{"../time":23,"../util":24}],22:[function(e,n,t){var r=e("./util"),i=n.exports;i.repeat=function(e,n){var t,r=Array(n);for(t=0;n>t;++t)r[t]=e;return r},i.zeros=function(e){return i.repeat(0,e)},i.range=function(e,n,t){if(arguments.length<3&&(t=1,arguments.length<2&&(n=e,e=0)),(n-e)/t==1/0)throw new Error("Infinite range");var r,i=[],a=-1;if(0>t)for(;(r=e+t*++a)>n;)i.push(r);else for(;(r=e+t*++a)<n;)i.push(r);return i},i.random={},i.random.uniform=function(e,n){void 0===n&&(n=void 0===e?1:e,e=0);var t=n-e,r=function(){return e+t*Math.random()};return r.samples=function(e){return i.zeros(e).map(r)},r.pdf=function(r){return r>=e&&n>=r?1/t:0},r.cdf=function(r){return e>r?0:r>n?1:(r-e)/t},r.icdf=function(n){return n>=0&&1>=n?e+n*t:NaN},r},i.random.integer=function(e,n){void 0===n&&(n=e,e=0);var t=n-e,r=function(){return e+Math.floor(t*Math.random())};return r.samples=function(e){return i.zeros(e).map(r)},r.pdf=function(r){return r===Math.floor(r)&&r>=e&&n>r?1/t:0},r.cdf=function(r){var i=Math.floor(r);return e>i?0:i>=n?1:(i-e+1)/t},r.icdf=function(n){return n>=0&&1>=n?e-1+Math.floor(n*t):NaN},r},i.random.normal=function(e,n){e=e||0,n=n||1;var t,r=function(){var r,i,a=0,o=0;if(void 0!==t)return a=t,t=void 0,a;do a=2*Math.random()-1,o=2*Math.random()-1,r=a*a+o*o;while(0===r||r>1);return i=Math.sqrt(-2*Math.log(r)/r),t=e+o*i*n,e+a*i*n};return r.samples=function(e){return i.zeros(e).map(r)},r.pdf=function(t){var r=Math.exp(Math.pow(t-e,2)/(-2*Math.pow(n,2)));return 1/(n*Math.sqrt(2*Math.PI))*r},r.cdf=function(t){var r,i=(t-e)/n,a=Math.abs(i);if(a>37)r=0;else{var o,u=Math.exp(-a*a/2);7.07106781186547>a?(o=.0352624965998911*a+.700383064443688,
o=o*a+6.37396220353165,o=o*a+33.912866078383,o=o*a+112.079291497871,o=o*a+221.213596169931,o=o*a+220.206867912376,r=u*o,o=.0883883476483184*a+1.75566716318264,o=o*a+16.064177579207,o=o*a+86.7807322029461,o=o*a+296.564248779674,o=o*a+637.333633378831,o=o*a+793.826512519948,o=o*a+440.413735824752,r/=o):(o=a+.65,o=a+4/o,o=a+3/o,o=a+2/o,o=a+1/o,r=u/o/2.506628274631)}return i>0?1-r:r},r.icdf=function(t){if(0>=t||t>=1)return NaN;var r=2*t-1,i=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),a=2/(Math.PI*i)+Math.log(1-Math.pow(r,2))/2,o=Math.log(1-r*r)/i,u=(r>0?1:-1)*Math.sqrt(Math.sqrt(a*a-o)-a);return e+n*Math.SQRT2*u},r},i.random.bootstrap=function(e,n){var t=e.filter(r.isValid),a=t.length,o=n?i.random.normal(0,n):null,u=function(){return t[~~(Math.random()*a)]+(o?o():0)};return u.samples=function(e){return i.zeros(e).map(u)},u}},{"./util":24}],23:[function(e,n,t){function r(e){return s.setTime(+e),s}function i(e,n,t,r,i,a){var o={type:e,date:n,unit:t};return r?o.step=r:o.minstep=1,null!=i&&(o.min=i),null!=a&&(o.max=a),o}function a(e,n,t,r,a,o){return i(e,function(e){return n.offset(t,e)},function(e){return n.count(t,e)},r,a,o)}function o(e,n,t,r){var i,a,o,u=h[0];for(i=1,a=h.length;a>i;++i)if(u=h[i],n>u[0]){if(o=n/u[0],o>r)return e[h[i-1][1]];if(o>=t)return e[u[1]]}return e[h[a-1][1]]}function u(e){var n,t,r={};for(n=0,t=e.length;t>n;++n)r[e[n].type]=e[n];return r.find=function(n,t,r){return o(e,n,t,r)},r}var c=e("d3-time"),s=new Date,l=new Date(0,0,1).setFullYear(0),f=new Date(Date.UTC(0,0,1)).setUTCFullYear(0),d=[a("second",c.second,l),a("minute",c.minute,l),a("hour",c.hour,l),a("day",c.day,l,[1,7]),a("month",c.month,l,[1,3,6]),a("year",c.year,l),i("seconds",function(e){return new Date(1970,0,1,0,0,e)},function(e){return r(e).getSeconds()},null,0,59),i("minutes",function(e){return new Date(1970,0,1,0,e)},function(e){return r(e).getMinutes()},null,0,59),i("hours",function(e){return new Date(1970,0,1,e)},function(e){return r(e).getHours()},null,0,23),i("weekdays",function(e){return new Date(1970,0,4+e)},function(e){return r(e).getDay()},[1],0,6),i("dates",function(e){return new Date(1970,0,e)},function(e){return r(e).getDate()},[1],1,31),i("months",function(e){return new Date(1970,e%12,1)},function(e){return r(e).getMonth()},[1],0,11)],g=[a("second",c.utcSecond,f),a("minute",c.utcMinute,f),a("hour",c.utcHour,f),a("day",c.utcDay,f,[1,7]),a("month",c.utcMonth,f,[1,3,6]),a("year",c.utcYear,f),i("seconds",function(e){return new Date(Date.UTC(1970,0,1,0,0,e))},function(e){return r(e).getUTCSeconds()},null,0,59),i("minutes",function(e){return new Date(Date.UTC(1970,0,1,0,e))},function(e){return r(e).getUTCMinutes()},null,0,59),i("hours",function(e){return new Date(Date.UTC(1970,0,1,e))},function(e){return r(e).getUTCHours()},null,0,23),i("weekdays",function(e){return new Date(Date.UTC(1970,0,4+e))},function(e){return r(e).getUTCDay()},[1],0,6),i("dates",function(e){return new Date(Date.UTC(1970,0,e))},function(e){return r(e).getUTCDate()},[1],1,31),i("months",function(e){return new Date(Date.UTC(1970,e%12,1))},function(e){return r(e).getUTCMonth()},[1],0,11)],h=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]];n.exports=u(d),n.exports.utc=u(g)},{"d3-time":20}],24:[function(e,n,t){(function(e){function t(e,n){var t,r="";for(t=0;e>t;++t)r+=n;return r}function r(e,n,t){var r=0,i=e.split(c);return e=t?(i=i.reverse()).filter(function(e){return r+=e.length,n>=r}).reverse():i.filter(function(e){return r+=e.length,n>=r}),e.length?e.join("").trim():i[0].slice(0,n)}var i=n.exports,a="__name__";i.namedfunc=function(e,n){return n[a]=e,n},i.name=function(e){return null==e?null:e[a]},i.identity=function(e){return e},i["true"]=i.namedfunc("true",function(){return!0}),i["false"]=i.namedfunc("false",function(){return!1}),i.duplicate=function(e){return JSON.parse(JSON.stringify(e))},i.equal=function(e,n){return JSON.stringify(e)===JSON.stringify(n)},i.extend=function(e){for(var n,t,r=1,i=arguments.length;i>r;++r){n=arguments[r];for(t in n)e[t]=n[t]}return e},i.length=function(e){return null!=e&&null!=e.length?e.length:null},i.keys=function(e){var n,t=[];for(n in e)t.push(n);return t},i.vals=function(e){var n,t=[];for(n in e)t.push(e[n]);return t},i.toMap=function(e,n){return(n=i.$(n))?e.reduce(function(e,t){return e[n(t)]=1,e},{}):e.reduce(function(e,n){return e[n]=1,e},{})},i.keystr=function(e){var n=e.length;if(!n)return"";for(var t=String(e[0]),r=1;n>r;++r)t+="|"+String(e[r]);return t};var o=Object.prototype.toString;i.isObject=function(e){return e===Object(e)},i.isFunction=function(e){return"[object Function]"===o.call(e)},i.isString=function(e){return"string"==typeof value||"[object String]"===o.call(e)},i.isArray=Array.isArray||function(e){return"[object Array]"===o.call(e)},i.isNumber=function(e){return"number"==typeof e||"[object Number]"===o.call(e)},i.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==o.call(e)},i.isDate=function(e){return"[object Date]"===o.call(e)},i.isValid=function(e){return null!=e&&e===e},i.isBuffer="function"==typeof e&&e.isBuffer||i["false"],i.number=function(e){return null==e||""===e?null:+e},i["boolean"]=function(e){return null==e||""===e?null:"false"===e?!1:!!e},i.date=function(e,n){var t=n?n:Date;return null==e||""===e?null:t.parse(e)},i.array=function(e){return null!=e?i.isArray(e)?e:[e]:[]},i.str=function(e){return i.isArray(e)?"["+e.map(i.str)+"]":i.isObject(e)||i.isString(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e};var u=/\[(.*?)\]|[^.\[]+/g;i.field=function(e){return String(e).match(u).map(function(e){return"["!==e[0]?e:"'"!==e[1]&&'"'!==e[1]?e.slice(1,-1):e.slice(2,-2).replace(/\\(["'])/g,"$1")})},i.accessor=function(e){return null==e||i.isFunction(e)?e:i.namedfunc(e,Function("x","return x["+i.field(e).map(i.str).join("][")+"];"))},i.$=i.accessor,i.mutator=function(e){var n;return i.isString(e)&&(n=i.field(e)).length>1?function(e,t){for(var r=0;r<n.length-1;++r)e=e[n[r]];e[n[r]]=t}:function(n,t){n[e]=t}},i.$func=function(e,n){return function(t){t=i.$(t)||i.identity;var r=e+(i.name(t)?"_"+i.name(t):"");return i.namedfunc(r,function(e){return n(t(e))})}},i.$valid=i.$func("valid",i.isValid),i.$length=i.$func("length",i.length),i.$in=function(e,n){e=i.$(e);var t=i.isArray(n)?i.toMap(n):n;return function(n){return!!t[e(n)]}},i.comparator=function(e){var n=[];return void 0===e&&(e=[]),e=i.array(e).map(function(e){var t=1;return"-"===e[0]?(t=-1,e=e.slice(1)):"+"===e[0]&&(t=1,e=e.slice(1)),n.push(t),i.accessor(e)}),function(t,r){var i,a,o,u,c;for(i=0,a=e.length;a>i;++i){if(o=e[i],u=o(t),c=o(r),c>u)return-1*n[i];if(u>c)return n[i]}return 0}},i.cmp=function(e,n){return n>e?-1:e>n?1:e>=n?0:null===e?-1:null===n?1:NaN},i.numcmp=function(e,n){return e-n},i.stablesort=function(e,n,t){var r=e.reduce(function(e,n,r){return e[t(n)]=r,e},{});return e.sort(function(e,i){var a=n(e),o=n(i);return o>a?-1:a>o?1:r[t(e)]-r[t(i)]}),e},i.pad=function(e,n,r,i){i=i||" ";var a=n-e.length;if(0>=a)return e;switch(r){case"left":return t(a,i)+e;case"middle":case"center":return t(Math.floor(a/2),i)+e+t(Math.ceil(a/2),i);default:return e+t(a,i)}},i.truncate=function(e,n,t,i,a){var o=e.length;if(n>=o)return e;a=void 0!==a?String(a):"…";var u=Math.max(0,n-a.length);switch(t){case"left":return a+(i?r(e,u,1):e.slice(o-u));case"middle":case"center":var c=Math.ceil(u/2),s=Math.floor(u/2);return(i?r(e,c):e.slice(0,c))+a+(i?r(e,s,1):e.slice(o-s));default:return(i?r(e,u):e.slice(0,u))+a}};var c=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/}).call(this,e("buffer").Buffer)},{buffer:1}],25:[function(e,n,t){var r="undefined"!=typeof JSON?JSON:e("jsonify");n.exports=function(e,n){n||(n={}),"function"==typeof n&&(n={cmp:n});var t=n.space||"";"number"==typeof t&&(t=Array(t+1).join(" "));var o="boolean"==typeof n.cycles?n.cycles:!1,u=n.replacer||function(e,n){return n},c=n.cmp&&function(e){return function(n){return function(t,r){var i={key:t,value:n[t]},a={key:r,value:n[r]};return e(i,a)}}}(n.cmp),s=[];return function l(e,n,f,d){var g=t?"\n"+new Array(d+1).join(t):"",h=t?": ":":";if(f&&f.toJSON&&"function"==typeof f.toJSON&&(f=f.toJSON()),f=u.call(e,n,f),void 0!==f){if("object"!=typeof f||null===f)return r.stringify(f);if(i(f)){for(var p=[],T=0;T<f.length;T++){var E=l(f,T,f[T],d+1)||r.stringify(null);p.push(g+t+E)}return"["+p.join(",")+g+"]"}if(-1!==s.indexOf(f)){if(o)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}s.push(f);for(var y=a(f).sort(c&&c(f)),p=[],T=0;T<y.length;T++){var n=y[T],A=l(f,n,f[n],d+1);if(A){var m=r.stringify(n)+h+A;p.push(g+t+m)}}return s.splice(s.indexOf(f),1),"{"+p.join(",")+g+"}"}}({"":e},"",e,0)};var i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},a=Object.keys||function(e){var n=Object.prototype.hasOwnProperty||function(){return!0},t=[];for(var r in e)n.call(e,r)&&t.push(r);return t}},{jsonify:26}],26:[function(e,n,t){t.parse=e("./lib/parse"),t.stringify=e("./lib/stringify")},{"./lib/parse":27,"./lib/stringify":28}],27:[function(e,n,t){var r,i,a,o,u={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},c=function(e){throw{name:"SyntaxError",message:e,at:r,text:a}},s=function(e){return e&&e!==i&&c("Expected '"+e+"' instead of '"+i+"'"),i=a.charAt(r),r+=1,i},l=function(){var e,n="";for("-"===i&&(n="-",s("-"));i>="0"&&"9">=i;)n+=i,s();if("."===i)for(n+=".";s()&&i>="0"&&"9">=i;)n+=i;if("e"===i||"E"===i)for(n+=i,s(),("-"===i||"+"===i)&&(n+=i,s());i>="0"&&"9">=i;)n+=i,s();return e=+n,isFinite(e)?e:void c("Bad number")},f=function(){var e,n,t,r="";if('"'===i)for(;s();){if('"'===i)return s(),r;if("\\"===i)if(s(),"u"===i){for(t=0,n=0;4>n&&(e=parseInt(s(),16),isFinite(e));n+=1)t=16*t+e;r+=String.fromCharCode(t)}else{if("string"!=typeof u[i])break;r+=u[i]}else r+=i}c("Bad string")},d=function(){for(;i&&" ">=i;)s()},g=function(){switch(i){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}c("Unexpected '"+i+"'")},h=function(){var e=[];if("["===i){if(s("["),d(),"]"===i)return s("]"),e;for(;i;){if(e.push(o()),d(),"]"===i)return s("]"),e;s(","),d()}}c("Bad array")},p=function(){var e,n={};if("{"===i){if(s("{"),d(),"}"===i)return s("}"),n;for(;i;){if(e=f(),d(),s(":"),Object.hasOwnProperty.call(n,e)&&c('Duplicate key "'+e+'"'),n[e]=o(),d(),"}"===i)return s("}"),n;s(","),d()}}c("Bad object")};o=function(){switch(d(),i){case"{":return p();case"[":return h();case'"':return f();case"-":return l();default:return i>="0"&&"9">=i?l():g()}},n.exports=function(e,n){var t;return a=e,r=0,i=" ",t=o(),d(),i&&c("Syntax error"),"function"==typeof n?function u(e,t){var r,i,a=e[t];if(a&&"object"==typeof a)for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=u(a,r),void 0!==i?a[r]=i:delete a[r]);return n.call(e,t,a)}({"":t},""):t}},{}],28:[function(e,n,t){function r(e){return c.lastIndex=0,c.test(e)?'"'+e.replace(c,function(e){var n=s[e];return"string"==typeof n?n:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function i(e,n){var t,c,s,l,f,d=a,g=n[e];switch(g&&"object"==typeof g&&"function"==typeof g.toJSON&&(g=g.toJSON(e)),"function"==typeof u&&(g=u.call(n,e,g)),typeof g){case"string":return r(g);case"number":return isFinite(g)?String(g):"null";case"boolean":case"null":return String(g);case"object":if(!g)return"null";if(a+=o,f=[],"[object Array]"===Object.prototype.toString.apply(g)){for(l=g.length,t=0;l>t;t+=1)f[t]=i(t,g)||"null";return s=0===f.length?"[]":a?"[\n"+a+f.join(",\n"+a)+"\n"+d+"]":"["+f.join(",")+"]",a=d,s}if(u&&"object"==typeof u)for(l=u.length,t=0;l>t;t+=1)c=u[t],"string"==typeof c&&(s=i(c,g),s&&f.push(r(c)+(a?": ":":")+s));else for(c in g)Object.prototype.hasOwnProperty.call(g,c)&&(s=i(c,g),s&&f.push(r(c)+(a?": ":":")+s));return s=0===f.length?"{}":a?"{\n"+a+f.join(",\n"+a)+"\n"+d+"}":"{"+f.join(",")+"}",a=d,s}}var a,o,u,c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};n.exports=function(e,n,t){var r;if(a="",o="","number"==typeof t)for(r=0;t>r;r+=1)o+=" ";else"string"==typeof t&&(o=t);if(u=n,n&&"function"!=typeof n&&("object"!=typeof n||"number"!=typeof n.length))throw new Error("JSON.stringify");return i("",{"":e})}},{}],29:[function(e,n,t){"use strict";!function(e){e[e.VALUES="values"]="VALUES",e[e.COUNT="count"]="COUNT",e[e.VALID="valid"]="VALID",e[e.MISSING="missing"]="MISSING",e[e.DISTINCT="distinct"]="DISTINCT",e[e.SUM="sum"]="SUM",e[e.MEAN="mean"]="MEAN",e[e.AVERAGE="average"]="AVERAGE",e[e.VARIANCE="variance"]="VARIANCE",e[e.VARIANCEP="variancep"]="VARIANCEP",e[e.STDEV="stdev"]="STDEV",e[e.STDEVP="stdevp"]="STDEVP",e[e.MEDIAN="median"]="MEDIAN",e[e.Q1="q1"]="Q1",e[e.Q3="q3"]="Q3",e[e.MODESKEW="modeskew"]="MODESKEW",e[e.MIN="min"]="MIN",e[e.MAX="max"]="MAX",e[e.ARGMIN="argmin"]="ARGMIN",e[e.ARGMAX="argmax"]="ARGMAX"}(t.AggregateOp||(t.AggregateOp={}));var r=t.AggregateOp;t.AGGREGATE_OPS=[r.VALUES,r.COUNT,r.VALID,r.MISSING,r.DISTINCT,r.SUM,r.MEAN,r.AVERAGE,r.VARIANCE,r.VARIANCEP,r.STDEV,r.STDEVP,r.MEDIAN,r.Q1,r.Q3,r.MODESKEW,r.MIN,r.MAX,r.ARGMIN,r.ARGMAX],t.SUM_OPS=[r.COUNT,r.SUM,r.DISTINCT],t.SHARED_DOMAIN_OPS=[r.MEAN,r.AVERAGE,r.STDEV,r.STDEVP,r.MEDIAN,r.Q1,r.Q3,r.MIN,r.MAX]},{}],30:[function(e,n,t){"use strict";!function(e){e[e.TOP="top"]="TOP",e[e.RIGHT="right"]="RIGHT",e[e.LEFT="left"]="LEFT",e[e.BOTTOM="bottom"]="BOTTOM"}(t.AxisOrient||(t.AxisOrient={}));t.AxisOrient;t.defaultAxisConfig={offset:void 0,grid:void 0,labels:!0,labelMaxLength:25,tickSize:void 0,characterWidth:6},t.defaultFacetAxisConfig={axisWidth:0,labels:!0,grid:!1,tickSize:0}},{}],31:[function(e,n,t){"use strict";function r(e,n){return!!i(e)[n]}function i(e){switch(e){case t.X:case t.Y:case t.COLOR:case t.DETAIL:case t.ORDER:case t.OPACITY:case t.ROW:case t.COLUMN:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,line:!0,area:!0,text:!0};case t.X2:case t.Y2:return{rule:!0,bar:!0,area:!0};case t.SIZE:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,text:!0};case t.SHAPE:return{point:!0};case t.TEXT:return{text:!0};case t.PATH:return{line:!0};case t.GEOPATH:return{path:!0}}return{}}function a(e){switch(e){case t.X:case t.Y:case t.COLOR:case t.OPACITY:case t.LABEL:case t.DETAIL:return{measure:!0,dimension:!0};case t.ROW:case t.COLUMN:case t.SHAPE:return{measure:!1,dimension:!0};case t.X2:case t.Y2:case t.SIZE:case t.TEXT:return{measure:!0,dimension:!1};case t.PATH:return{measure:!1,dimension:!0};case t.GEOPATH:return{measure:!1,dimension:!0}}throw new Error("Invalid encoding channel"+e)}function o(e){return!u.contains([t.DETAIL,t.PATH,t.TEXT,t.LABEL,t.ORDER],e)}var u=e("./util");!function(e){e[e.X="x"]="X",e[e.Y="y"]="Y",e[e.X2="x2"]="X2",e[e.Y2="y2"]="Y2",e[e.ROW="row"]="ROW",e[e.COLUMN="column"]="COLUMN",e[e.SHAPE="shape"]="SHAPE",e[e.SIZE="size"]="SIZE",e[e.COLOR="color"]="COLOR",e[e.TEXT="text"]="TEXT",e[e.DETAIL="detail"]="DETAIL",e[e.LABEL="label"]="LABEL",e[e.PATH="path"]="PATH",e[e.ORDER="order"]="ORDER",e[e.OPACITY="opacity"]="OPACITY",e[e.GEOPATH="geopath"]="GEOPATH"}(t.Channel||(t.Channel={}));var c=t.Channel;t.X=c.X,t.Y=c.Y,t.X2=c.X2,t.Y2=c.Y2,t.ROW=c.ROW,t.COLUMN=c.COLUMN,t.SHAPE=c.SHAPE,t.SIZE=c.SIZE,t.COLOR=c.COLOR,t.TEXT=c.TEXT,t.DETAIL=c.DETAIL,t.LABEL=c.LABEL,t.PATH=c.PATH,t.ORDER=c.ORDER,t.OPACITY=c.OPACITY,t.GEOPATH=c.GEOPATH,t.CHANNELS=[t.X,t.Y,t.X2,t.Y2,t.ROW,t.COLUMN,t.SIZE,t.SHAPE,t.COLOR,t.OPACITY,t.PATH,t.ORDER,t.TEXT,t.DETAIL,t.LABEL,t.GEOPATH],t.UNIT_CHANNELS=u.without(t.CHANNELS,[t.ROW,t.COLUMN]),t.UNIT_SCALE_CHANNELS=u.without(t.UNIT_CHANNELS,[t.PATH,t.ORDER,t.DETAIL,t.TEXT,t.LABEL,t.X2,t.Y2]),t.NONSPATIAL_CHANNELS=u.without(t.UNIT_CHANNELS,[t.X,t.Y,t.X2,t.Y2]),t.NONSPATIAL_SCALE_CHANNELS=u.without(t.UNIT_SCALE_CHANNELS,[t.X,t.Y,t.X2,t.Y2]),t.STACK_GROUP_CHANNELS=[t.COLOR,t.DETAIL,t.ORDER,t.OPACITY,t.SIZE],t.supportMark=r,t.getSupportedMark=i,t.getSupportedRole=a,t.hasScale=o},{"./util":43}],32:[function(e,n,t){"use strict";var r=e("./scale"),i=e("./axis"),a=e("./legend");t.defaultCellConfig={width:200,height:200},t.defaultFacetCellConfig={stroke:"#ccc",strokeWidth:1};var o={color:"#000000",opacity:.4,offset:0},u={type:"mercator"};t.defaultFacetConfig={scale:r.defaultFacetScaleConfig,axis:i.defaultFacetAxisConfig,grid:o,cell:t.defaultFacetCellConfig},function(e){e[e.NORMAL="normal"]="NORMAL",e[e.BOLD="bold"]="BOLD"}(t.FontWeight||(t.FontWeight={}));t.FontWeight;!function(e){e[e.CIRCLE="circle"]="CIRCLE",e[e.SQUARE="square"]="SQUARE",e[e.CROSS="cross"]="CROSS",e[e.DIAMOND="diamond"]="DIAMOND",e[e.TRIANGLEUP="triangle-up"]="TRIANGLEUP",e[e.TRIANGLEDOWN="triangle-down"]="TRIANGLEDOWN"}(t.Shape||(t.Shape={}));var c=t.Shape;!function(e){e[e.LEFT="left"]="LEFT",e[e.RIGHT="right"]="RIGHT",e[e.CENTER="center"]="CENTER"}(t.HorizontalAlign||(t.HorizontalAlign={}));t.HorizontalAlign;!function(e){e[e.TOP="top"]="TOP",e[e.MIDDLE="middle"]="MIDDLE",e[e.BOTTOM="bottom"]="BOTTOM"}(t.VerticalAlign||(t.VerticalAlign={}));var s=t.VerticalAlign;!function(e){e[e.NORMAL="normal"]="NORMAL",e[e.ITALIC="italic"]="ITALIC"}(t.FontStyle||(t.FontStyle={}));t.FontStyle;!function(e){e[e.LINEAR="linear"]="LINEAR",e[e.LINEAR_CLOSED="linear-closed"]="LINEAR_CLOSED",e[e.STEP="step"]="STEP",e[e.STEP_BEFORE="step-before"]="STEP_BEFORE",e[e.STEP_AFTER="step-after"]="STEP_AFTER",e[e.BASIS="basis"]="BASIS",e[e.BASIS_OPEN="basis-open"]="BASIS_OPEN",e[e.BASIS_CLOSED="basis-closed"]="BASIS_CLOSED",e[e.CARDINAL="cardinal"]="CARDINAL",e[e.CARDINAL_OPEN="cardinal-open"]="CARDINAL_OPEN",e[e.CARDINAL_CLOSED="cardinal-closed"]="CARDINAL_CLOSED",e[e.BUNDLE="bundle"]="BUNDLE",e[e.MONOTONE="monotone"]="MONOTONE"}(t.Interpolate||(t.Interpolate={}));t.Interpolate;!function(e){e[e.LINE="line"]="LINE",e[e.LINEPOINT="linepoint"]="LINEPOINT",e[e.NONE="none"]="NONE"}(t.AreaOverlay||(t.AreaOverlay={}));t.AreaOverlay;t.defaultOverlayConfig={line:!1,pointStyle:{filled:!0},lineStyle:{}},t.defaultMarkConfig={color:"#4682b4",shape:c.CIRCLE,strokeWidth:2,size:30,barThinSize:2,ruleSize:1,tickThickness:1,fontSize:10,baseline:s.MIDDLE,text:"Abc",shortTimeLabels:!1,applyColorToBackground:!1},t.defaultConfig={numberFormat:"s",timeFormat:"%Y-%m-%d",cell:t.defaultCellConfig,mark:t.defaultMarkConfig,overlay:t.defaultOverlayConfig,scale:r.defaultScaleConfig,axis:i.defaultAxisConfig,legend:a.defaultLegendConfig,projection:u,facet:t.defaultFacetConfig}},{"./axis":30,"./legend":35,"./scale":37}],33:[function(e,n,t){"use strict";function r(e){var n=0;return e.color&&n++,e.opacity&&n++,e.size&&n++,e.shape&&n++,n}function i(e){return E.CHANNELS.filter(function(n){return o(e,n)})}function a(e,n){var t=e&&e[n];return t&&(void 0!==t.field||A.isArray(t)&&t.length>0)}function o(e,n){var t=e&&e[n];return t&&(void 0!==t.field||A.isArray(t)&&t.length>0)}function u(e){return A.some(E.CHANNELS,function(n){return o(e,n)&&e[n].aggregate?!0:!1})}function c(e){return e&&(!!e.x&&!!e.x2||!!e.y&&!!e.y2)}function s(e){var n=[];return E.CHANNELS.forEach(function(t){o(e,t)&&(A.isArray(e[t])?e[t].forEach(function(e){n.push(e)}):n.push(e[t]))}),n}function l(e,n,t){f(E.CHANNELS,e,n,t)}function f(e,n,t,r){var i=0;e.forEach(function(e){o(n,e)&&(A.isArray(n[e])?n[e].forEach(function(n){t.call(r,n,e,i++)}):t.call(r,n[e],e,i++))})}function d(e,n,t){return g(E.CHANNELS,e,n,t)}function g(e,n,t,r){var i=[];return e.forEach(function(e){o(n,e)&&(A.isArray(n[e])?n[e].forEach(function(n){i.push(t.call(r,n,e))}):i.push(t.call(r,n[e],e)))}),i}function h(e,n,t,r){return p(E.CHANNELS,e,n,t,r)}function p(e,n,t,r,i){var a=r;return E.CHANNELS.forEach(function(e){o(n,e)&&(A.isArray(n[e])?n[e].forEach(function(n){a=t.call(i,a,n,e)}):a=t.call(i,a,n[e],e))}),a}function T(e){if(e.x){var n=e.x.type;if(n===y.LATITUDE||n===y.LONGITUDE)return!0}else if(e.y){var t=e.y.type;if(t===y.LATITUDE||t===y.LONGITUDE)return!0}return!1}var E=e("./channel"),y=e("./type"),A=e("./util");t.countRetinal=r,t.channels=i,t.hasChannelField=a,t.has=o,t.isAggregate=u,t.isRanged=c,t.fieldDefs=s,t.forEach=l,t.channelMappingForEach=f,t.map=d,t.channelMappingMap=g,t.reduce=h,t.channelMappingReduce=p,t.containsLatLong=T},{"./channel":31,"./type":42,"./util":43}],34:[function(e,n,t){"use strict";function r(e,n){void 0===n&&(n={});var t=(n.datum?"datum.":"")+(n.prefn||""),r=n.suffix||"",i=e.field;if(c(e))return t+"count"+r;if(n.fn)return t+n.fn+"_"+i+r;if(!n.nofn&&e.bin){var a=n.binSuffix||(n.scaleType===d.ScaleType.ORDINAL?"_range":"_start");return t+"bin_"+i+a}return n.nofn||n.noAggregate||!e.aggregate?!n.nofn&&e.timeUnit?t+e.timeUnit+"_"+i+r:e.type===h.LATITUDE?t+"layout_y":e.type===h.LONGITUDE?t+"layout_x":e.type===h.GEOJSON?t+"layout_path":t+i:t+e.aggregate+"_"+i+r}function i(e){return p.contains([h.NOMINAL,h.ORDINAL],e.type)||!!e.bin||e.type===h.TEMPORAL&&!!e.timeUnit}function a(e){return e&&e.field&&i(e)}function o(e){return e&&e.field&&!i(e)}function u(){return{field:"*",aggregate:f.AggregateOp.COUNT,type:h.QUANTITATIVE,title:t.COUNT_TITLE}}function c(e){return e.aggregate===f.AggregateOp.COUNT}function s(e,n,t){void 0===t&&(t={});var r=n[e.field],i=e.type;if(e.bin){var a=e.bin,o="boolean"==typeof a?void 0:a.maxbins;void 0===o&&(o=10);var u=p.getbins(r,o);return(u.stop-u.start)/u.step}if(i===h.TEMPORAL){var c=e.timeUnit;switch(c){case g.TimeUnit.SECONDS:return 60;case g.TimeUnit.MINUTES:return 60;case g.TimeUnit.HOURS:return 24;case g.TimeUnit.DAY:return 7;case g.TimeUnit.DATE:return 31;case g.TimeUnit.MONTH:return 12;case g.TimeUnit.QUARTER:return 4;case g.TimeUnit.YEAR:var s=n["year_"+e.field];return s?s.distinct-(r.missing>0&&t[i]?1:0):null}}return e.aggregate?1:r.distinct-(r.missing>0&&t[i]?1:0)}function l(e){if(null!=e.title)return e.title;if(c(e))return t.COUNT_TITLE;var n=e.aggregate||e.timeUnit||e.bin&&"bin";return n?n.toString().toUpperCase()+"("+e.field+")":e.field}var f=e("./aggregate"),d=e("./scale"),g=e("./timeunit"),h=e("./type"),p=e("./util");t.aggregate={type:"string","enum":f.AGGREGATE_OPS,supportedEnums:{quantitative:f.AGGREGATE_OPS,ordinal:["median","min","max"],nominal:[],temporal:["mean","median","min","max"],"":["count"]},supportedTypes:p.toMap([h.QUANTITATIVE,h.NOMINAL,h.ORDINAL,h.TEMPORAL,""])},t.field=r,t.isDimension=a,t.isMeasure=o,t.COUNT_TITLE="Number of Records",t.count=u,t.isCount=c,t.cardinality=s,t.title=l},{"./aggregate":29,"./scale":37,"./timeunit":41,"./type":42,"./util":43}],35:[function(e,n,t){"use strict";t.defaultLegendConfig={orient:void 0,shortTimeLabels:!1}},{}],36:[function(e,n,t){"use strict";!function(e){e[e.AREA="area"]="AREA",e[e.BAR="bar"]="BAR",e[e.LINE="line"]="LINE",e[e.POINT="point"]="POINT",e[e.TEXT="text"]="TEXT",e[e.TICK="tick"]="TICK",e[e.RULE="rule"]="RULE",e[e.CIRCLE="circle"]="CIRCLE",e[e.SQUARE="square"]="SQUARE",e[e.PATH="path"]="PATH",e[e.ERRORBAR="errorBar"]="ERRORBAR"}(t.Mark||(t.Mark={}));var r=t.Mark;t.AREA=r.AREA,t.BAR=r.BAR,t.LINE=r.LINE,t.POINT=r.POINT,t.TEXT=r.TEXT,t.TICK=r.TICK,t.RULE=r.RULE,t.PATH=r.PATH,t.CIRCLE=r.CIRCLE,t.SQUARE=r.SQUARE,t.ERRORBAR=r.ERRORBAR,t.PRIMITIVE_MARKS=[t.AREA,t.BAR,t.LINE,t.POINT,t.TEXT,t.TICK,t.RULE,t.CIRCLE,t.SQUARE]},{}],37:[function(e,n,t){"use strict";!function(e){e[e.LINEAR="linear"]="LINEAR",e[e.LOG="log"]="LOG",e[e.POW="pow"]="POW",e[e.SQRT="sqrt"]="SQRT",e[e.QUANTILE="quantile"]="QUANTILE",e[e.QUANTIZE="quantize"]="QUANTIZE",e[e.ORDINAL="ordinal"]="ORDINAL",e[e.TIME="time"]="TIME",e[e.UTC="utc"]="UTC"}(t.ScaleType||(t.ScaleType={}));t.ScaleType;!function(e){e[e.SECOND="second"]="SECOND",e[e.MINUTE="minute"]="MINUTE",e[e.HOUR="hour"]="HOUR",e[e.DAY="day"]="DAY",e[e.WEEK="week"]="WEEK",e[e.MONTH="month"]="MONTH",e[e.YEAR="year"]="YEAR"}(t.NiceTime||(t.NiceTime={}));t.NiceTime;t.defaultScaleConfig={round:!0,textBandWidth:90,bandSize:21,padding:1,useRawDomain:!1,opacity:[.3,.8],nominalColorRange:"category10",sequentialColorRange:["#AFC6A3","#09622A"],shapeRange:"shapes",fontSizeRange:[8,40],ruleSizeRange:[1,5],tickSizeRange:[1,20]},t.defaultFacetScaleConfig={round:!0,padding:16}},{}],38:[function(e,n,t){"use strict";function r(e){return"mark"+t.ASSIGN+e.mark+t.DELIM+a(e.encoding)}function i(e,n,r){var i=e.split(t.DELIM),a=i.shift().split(t.ASSIGN)[1].trim(),u=o(i.join(t.DELIM)),c={mark:h.Mark[a],encoding:u};return void 0!==n&&(c.data=n),void 0!==r&&(c.config=r),c}function a(e){return g.map(e,function(e,n){return n+t.ASSIGN+u(e)}).join(t.DELIM)}function o(e){return e.split(t.DELIM).reduce(function(e,n){var r=n.split(t.ASSIGN),i=r[0].trim(),a=r[1];return e[i]=s(a),e},{})}function u(e){return(e.aggregate?e.aggregate+t.FUNC:"")+(e.timeUnit?e.timeUnit+t.FUNC:"")+(e.bin?"bin"+t.FUNC:"")+(e.field||"")+t.TYPE+d.SHORT_TYPE[e.type]}function c(e,n){return void 0===n&&(n=t.DELIM),e.map(u).join(n)}function s(e){for(var n=e.split(t.TYPE),r={field:n[0].trim(),type:d.TYPE_FROM_SHORT_TYPE[n[1].trim()]},i=0;i<l.AGGREGATE_OPS.length;i++){var a=l.AGGREGATE_OPS[i];if(0===r.field.indexOf(a+"_")){r.field=r.field.substr(a.toString().length+1),a===l.AggregateOp.COUNT&&0===r.field.length&&(r.field="*"),r.aggregate=a;break}}for(var i=0;i<f.TIMEUNITS.length;i++){var o=f.TIMEUNITS[i];if(r.field&&0===r.field.indexOf(o+"_")){r.field=r.field.substr(r.field.length+1),r.timeUnit=o;break}}return r.field&&0===r.field.indexOf("bin_")&&(r.field=r.field.substr(4),r.bin=!0),r}var l=e("./aggregate"),f=e("./timeunit"),d=e("./type"),g=e("./encoding"),h=e("./mark");t.DELIM="|",t.ASSIGN="=",t.TYPE=",",t.FUNC="_",t.shorten=r,t.parse=i,t.shortenEncoding=a,t.parseEncoding=o,t.shortenFieldDef=u,t.shortenFieldDefs=c,t.parseFieldDef=s},{"./aggregate":29,"./encoding":33,"./mark":36,"./timeunit":41,"./type":42}],39:[function(e,n,t){"use strict";function r(e){return void 0!==e.facet}function i(e){if(o(e)){var n=m.has(e.encoding,N.ROW),t=m.has(e.encoding,N.COLUMN);return n||t}return!1}function a(e){return o(e)?!i(e):!1}function o(e){return void 0!==e.mark}function u(e){return void 0!==e.layers}function c(e){return i(e)?s(e):a(e)?l(e):e}function s(e){var n=m.has(e.encoding,N.ROW),t=m.has(e.encoding,N.COLUMN),r=R.duplicate(e.encoding);return delete r.column,delete r.row,R.extend(e.name?{name:e.name}:{},e.description?{description:e.description}:{},{data:e.data},e.transform?{transform:e.transform}:{},{facet:R.extend(n?{row:e.encoding.row}:{},t?{column:e.encoding.column}:{}),spec:l({mark:e.mark,encoding:r})},e.config?{config:e.config}:{})}function l(e){var n=e.config,t=n&&n.overlay,r=t&&e.mark===O.AREA&&R.contains([A.AreaOverlay.LINEPOINT,A.AreaOverlay.LINE],t.area),i=t&&(t.line&&e.mark===O.LINE||t.area===A.AreaOverlay.LINEPOINT&&e.mark===O.AREA);return e.mark===O.ERRORBAR?d(e):m.isRanged(e.encoding)?f(e):E(e)?e:i||r?g(e,i,r):e}function f(e){if(e.encoding){var n=m.has(e.encoding,N.X),t=m.has(e.encoding,N.Y),r=m.has(e.encoding,N.X2),i=m.has(e.encoding,N.Y2);if(r&&!n||i&&!t){var a=R.duplicate(e);return r&&!n&&(a.encoding.x=a.encoding.x2,delete a.encoding.x2),i&&!t&&(a.encoding.y=a.encoding.y2,delete a.encoding.y2),a}}return e}function d(e){var n=R.extend(e.name?{name:e.name}:{},e.description?{description:e.description}:{},e.data?{data:e.data}:{},e.transform?{transform:e.transform}:{},e.config?{config:e.config}:{},{layers:[]});if(!e.encoding)return n;if(e.mark===O.ERRORBAR){var t={mark:O.RULE,encoding:R.extend(e.encoding.x?{x:R.duplicate(e.encoding.x)}:{},e.encoding.y?{y:R.duplicate(e.encoding.y)}:{},e.encoding.x2?{x2:R.duplicate(e.encoding.x2)}:{},e.encoding.y2?{y2:R.duplicate(e.encoding.y2)}:{},{})},r={mark:O.TICK,encoding:R.extend(e.encoding.x?{x:R.duplicate(e.encoding.x)}:{},e.encoding.y?{y:R.duplicate(e.encoding.y)}:{},e.encoding.size?{size:R.duplicate(e.encoding.size)}:{},{})},i={mark:O.TICK,encoding:R.extend({x:e.encoding.x2?R.duplicate(e.encoding.x2):R.duplicate(e.encoding.x),y:e.encoding.y2?R.duplicate(e.encoding.y2):R.duplicate(e.encoding.y)},e.encoding.size?{size:R.duplicate(e.encoding.size)}:{})};n.layers.push(l(t)),n.layers.push(l(r)),n.layers.push(l(i))}return n}function g(e,n,t){var r=["name","description","data","transform"],i=R.omit(e,r.concat("config")),a=R.duplicate(e.config);delete a.overlay;var o=R.extend(R.pick(e,r),{layers:[i]},R.keys(a).length>0?{config:a}:{});if(t){var u=R.duplicate(i);u.mark=O.LINE;var c=R.extend({},A.defaultOverlayConfig.lineStyle,e.config.overlay.lineStyle);R.keys(c).length>0&&(u.config={mark:c}),o.layers.push(u)}if(n){var s=R.duplicate(i);s.mark=O.POINT;var c=R.extend({},A.defaultOverlayConfig.pointStyle,e.config.overlay.pointStyle);R.keys(c).length>0&&(s.config={mark:c}),o.layers.push(s)}return o}function h(e){return S.isAggregate(e.encoding)}function p(e){return S.fieldDefs(e.encoding)}function T(e){return e}function E(e){return null!==v.stack(e.mark,e.encoding,e.config)}function y(e){var n=e.encoding,t=R.duplicate(e.encoding);return t.x=n.y,t.y=n.x,t.row=n.column,t.column=n.row,e.encoding=t,e}var A=e("./config"),m=e("./encoding"),O=e("./mark"),v=e("./stack"),N=e("./channel"),S=e("./encoding"),R=e("./util");t.isFacetSpec=r,t.isExtendedUnitSpec=i,t.isUnitSpec=a,t.isSomeUnitSpec=o,t.isLayerSpec=u,t.normalize=c,t.normalizeExtendedUnitSpec=s,t.normalizeUnitSpec=l,t.normalizeRangedUnitSpec=f,t.normalizeErrorBarUnitSpec=d,t.normalizeOverlay=g,t.alwaysNoOcclusion=h,t.fieldDefs=p,t.getCleanSpec=T,t.isStacked=E,t.transpose=y},{"./channel":31,"./config":32,"./encoding":33,"./mark":36,"./stack":40,"./util":43}],40:[function(e,n,t){"use strict";function r(e,n,t){var r=t&&t.mark?t.mark.stacked:void 0;if(u.contains([c.NONE,null,!1],r))return null;if(!u.contains([o.BAR,o.AREA],e))return null;if(!a.isAggregate(n))return null;var s=i.STACK_GROUP_CHANNELS.reduce(function(e,t){return a.has(n,t)&&!n[t].aggregate&&e.push(t),e},[]);if(0===s.length)return null;var l=a.has(n,i.X),f=a.has(n,i.Y),d=l&&!!n.x.aggregate,g=f&&!!n.y.aggregate;return d!==g?{groupbyChannel:d?f?i.Y:null:l?i.X:null,fieldChannel:d?i.X:i.Y,stackByChannels:s,offset:r||c.ZERO}:null}var i=e("./channel"),a=e("./encoding"),o=e("./mark"),u=e("./util");!function(e){e[e.ZERO="zero"]="ZERO",e[e.CENTER="center"]="CENTER",e[e.NORMALIZE="normalize"]="NORMALIZE",e[e.NONE="none"]="NONE"}(t.StackOffset||(t.StackOffset={}));var c=t.StackOffset;t.stack=r},{"./channel":31,"./encoding":33,"./mark":36,"./util":43}],41:[function(e,n,t){"use strict";function r(e,n,t){if(e){var r=[];i(e,a.YEAR)&&r.push(t?"%y":"%Y"),i(e,a.QUARTER)&&r.push("'}}Q{{"+n+" | quarter}}{{"+n+" | time:'"),i(e,a.MONTH)&&r.push(t?"%b":"%B"),i(e,a.DAY)?r.push(t?"%a":"%A"):i(e,a.DATE)&&r.push("%d");var o=[];i(e,a.HOURS)&&o.push("%H"),i(e,a.MINUTES)&&o.push("%M"),i(e,a.SECONDS)&&o.push("%S"),i(e,a.MILLISECONDS)&&o.push("%L");var u=[];if(r.length>0&&u.push(r.join("-")),o.length>0&&u.push(o.join(":")),u.length>0){var c="{{"+n+" | time:'"+u.join(" ")+"'}}";return c.replace(new RegExp("{{"+n+" \\| time:''}}","g"),"")}}}function i(e,n){var t=e.toString(),r=n.toString();return t.indexOf(r)>-1}!function(e){e[e.YEAR="year"]="YEAR",e[e.MONTH="month"]="MONTH",e[e.DAY="day"]="DAY",e[e.DATE="date"]="DATE",e[e.HOURS="hours"]="HOURS",e[e.MINUTES="minutes"]="MINUTES",e[e.SECONDS="seconds"]="SECONDS",e[e.MILLISECONDS="milliseconds"]="MILLISECONDS",e[e.YEARMONTH="yearmonth"]="YEARMONTH",e[e.YEARMONTHDAY="yearmonthday"]="YEARMONTHDAY",e[e.YEARMONTHDATE="yearmonthdate"]="YEARMONTHDATE",e[e.YEARDAY="yearday"]="YEARDAY",e[e.YEARDATE="yeardate"]="YEARDATE",e[e.YEARMONTHDAYHOURS="yearmonthdayhours"]="YEARMONTHDAYHOURS",e[e.YEARMONTHDAYHOURSMINUTES="yearmonthdayhoursminutes"]="YEARMONTHDAYHOURSMINUTES",e[e.YEARMONTHDAYHOURSMINUTESSECONDS="yearmonthdayhoursminutesseconds"]="YEARMONTHDAYHOURSMINUTESSECONDS",e[e.HOURSMINUTES="hoursminutes"]="HOURSMINUTES",e[e.HOURSMINUTESSECONDS="hoursminutesseconds"]="HOURSMINUTESSECONDS",e[e.MINUTESSECONDS="minutesseconds"]="MINUTESSECONDS",e[e.SECONDSMILLISECONDS="secondsmilliseconds"]="SECONDSMILLISECONDS",
e[e.QUARTER="quarter"]="QUARTER",e[e.YEARQUARTER="yearquarter"]="YEARQUARTER",e[e.QUARTERMONTH="quartermonth"]="QUARTERMONTH",e[e.YEARQUARTERMONTH="yearquartermonth"]="YEARQUARTERMONTH"}(t.TimeUnit||(t.TimeUnit={}));var a=t.TimeUnit;t.TIMEUNITS=[a.YEAR,a.MONTH,a.DAY,a.DATE,a.HOURS,a.MINUTES,a.SECONDS,a.MILLISECONDS,a.YEARMONTH,a.YEARMONTHDAY,a.YEARMONTHDATE,a.YEARDAY,a.YEARDATE,a.YEARMONTHDAYHOURS,a.YEARMONTHDAYHOURSMINUTES,a.YEARMONTHDAYHOURSMINUTESSECONDS,a.HOURSMINUTES,a.HOURSMINUTESSECONDS,a.MINUTESSECONDS,a.SECONDSMILLISECONDS,a.QUARTER,a.YEARQUARTER,a.QUARTERMONTH,a.YEARQUARTERMONTH],t.template=r,t.containsTimeUnit=i},{}],42:[function(e,n,t){"use strict";function r(e){var n=e;return t.TYPE_FROM_SHORT_TYPE[n.toUpperCase()]||n.toLowerCase()}!function(e){e[e.QUANTITATIVE="quantitative"]="QUANTITATIVE",e[e.ORDINAL="ordinal"]="ORDINAL",e[e.TEMPORAL="temporal"]="TEMPORAL",e[e.NOMINAL="nominal"]="NOMINAL",e[e.GEOJSON="geojson"]="GEOJSON",e[e.LONGITUDE="longitude"]="LONGITUDE",e[e.LATITUDE="latitude"]="LATITUDE"}(t.Type||(t.Type={}));var i=t.Type;t.QUANTITATIVE=i.QUANTITATIVE,t.ORDINAL=i.ORDINAL,t.TEMPORAL=i.TEMPORAL,t.NOMINAL=i.NOMINAL,t.GEOJSON=i.GEOJSON,t.LONGITUDE=i.LONGITUDE,t.LATITUDE=i.LATITUDE,t.SHORT_TYPE={quantitative:"Q",temporal:"T",nominal:"N",ordinal:"O"},t.TYPE_FROM_SHORT_TYPE={Q:t.QUANTITATIVE,T:t.TEMPORAL,O:t.ORDINAL,N:t.NOMINAL},t.getFullName=r},{}],43:[function(e,n,t){"use strict";function r(e,n){var t={};return n.forEach(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function i(e,n){var t=S.duplicate(e);return n.forEach(function(e){delete t[e]}),t}function a(e){return I.isString(e)||I.isNumber(e)||I.isBoolean(e)?String(e):v(e)}function o(e,n){return e.indexOf(n)>-1}function u(e,n){return e.filter(function(e){return!o(n,e)})}function c(e,n){return e.concat(u(n,e))}function s(e,n,t){if(e.forEach)e.forEach.call(t,n);else for(var r in e)e.hasOwnProperty(r)&&n.call(t,e[r],r,e)}function l(e,n,t,r){if(e.reduce)return e.reduce.call(r,n,t);for(var i in e)e.hasOwnProperty(i)&&(t=n.call(r,t,e[i],i,e));return t}function f(e,n,t){if(e.map)return e.map.call(t,n);var r=[];for(var i in e)e.hasOwnProperty(i)&&r.push(n.call(t,e[i],i,e));return r}function d(e,n){for(var t=0,r=0;r<e.length;r++)if(n(e[r],r,t++))return!0;return!1}function g(e,n){for(var t=0,r=0;r<e.length;r++)if(!n(e[r],r,t++))return!1;return!0}function h(e){return[].concat.apply([],e)}function p(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];for(var r=0;r<n.length;r++)e=T(e,n[r]);return e}function T(e,n){if("object"!=typeof n||null===n)return e;for(var t in n)n.hasOwnProperty(t)&&void 0!==n[t]&&("object"!=typeof n[t]||null===n[t]?e[t]=n[t]:"object"!=typeof e[t]||null===e[t]?e[t]=p(n[t].constructor===Array?[]:{},n[t]):p(e[t],n[t]));return e}function E(e,n){return C({min:e.min,max:e.max,maxbins:n})}function y(e,n){var t,r,i,a=[],o={};for(r=0,i=e.length;i>r;++r)t=n?n(e[r]):e[r],t in o||(o[t]=1,a.push(e[r]));return a}function A(e){console.warn("[VL Warning]",e)}function m(e){console.error("[VL Error]",e)}function O(e,n){for(var t in e)if(e.hasOwnProperty(t)&&n[t]&&e[t]&&n[t]!==e[t])return!0;return!1}var v=e("json-stable-stringify"),N=e("datalib/src/util");t.keys=N.keys,t.extend=N.extend,t.duplicate=N.duplicate,t.isArray=N.isArray,t.vals=N.vals,t.truncate=N.truncate,t.toMap=N.toMap,t.isObject=N.isObject,t.isString=N.isString,t.isNumber=N.isNumber,t.isBoolean=N.isBoolean;var S=e("datalib/src/util"),R=e("datalib/src/generate");t.range=R.range;var M=e("./encoding");t.has=M.has;var D=e("./channel");t.Channel=D.Channel;var I=e("datalib/src/util");t.pick=r,t.omit=i,t.hash=a,t.contains=o,t.without=u,t.union=c,t.forEach=s,t.reduce=l,t.map=f,t.some=d,t.every=g,t.flatten=h,t.mergeDeep=p;var C=e("datalib/src/bins/bins");t.getbins=E,t.unique=y,t.warning=A,t.error=m,t.differ=O},{"./channel":31,"./encoding":33,"datalib/src/bins/bins":21,"datalib/src/generate":22,"datalib/src/util":24,"json-stable-stringify":25}],44:[function(e,n,t){"use strict";function r(e,n,r){void 0===n&&(n=t.DEFAULT_REQUIRED_CHANNEL_MAP),void 0===r&&(r=t.DEFAULT_SUPPORTED_CHANNEL_TYPE);var i=e.mark,o=e.encoding,u=n[i],c=r[i];for(var s in u)if(!(u[s]in o))return'Missing encoding channel "'+u[s]+'" for mark "'+i+'"';for(var l in o)if(!c[l])return'Encoding channel "'+l+'" is not supported by mark type "'+i+'"';return i!==a.BAR||o.x||o.y?null:"Missing both x and y for bar"}var i=e("./util"),a=e("./mark");t.DEFAULT_REQUIRED_CHANNEL_MAP={text:["text"],line:["x","y"],area:["x","y"]},t.DEFAULT_SUPPORTED_CHANNEL_TYPE={bar:i.toMap(["row","column","x","y","size","color","detail"]),line:i.toMap(["row","column","x","y","color","detail"]),area:i.toMap(["row","column","x","y","color","detail"]),tick:i.toMap(["row","column","x","y","color","detail"]),circle:i.toMap(["row","column","x","y","color","size","detail"]),square:i.toMap(["row","column","x","y","color","size","detail"]),point:i.toMap(["row","column","x","y","color","size","detail","shape"]),text:i.toMap(["row","column","size","color","text"])},t.getEncodingMappingError=r},{"./mark":36,"./util":43}]},{},[10])(10)});
//# sourceMappingURL=compass.min.js.map
